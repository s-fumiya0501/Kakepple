# Kakepple - ページ・機能一覧

## 概要

Kakeppleはカップル向け家計簿アプリです。個人の収支管理に加え、パートナーとの家計簿共有・割り勘機能を提供します。

---

## 公開ページ（認証不要）

### 1. ホームページ (`/`)

| 機能 | 説明 |
|------|------|
| アプリ紹介 | Kakeppleの主要機能を紹介 |
| ログインボタン | ログインページへの導線 |
| テーマ切替 | ライト/ダーク/システムモード切替 |

### 2. ログインページ (`/login`)

| 機能 | 説明 |
|------|------|
| メール/パスワード認証 | メールアドレスとパスワードでログイン |
| Googleログイン | Google OAuthでログイン |
| LINEログイン | LINE OAuthでログイン |
| パスワードリセット | パスワードを忘れた場合のリンク |
| 新規登録リンク | 登録ページへの導線 |

### 3. 新規登録ページ (`/register`)

| 機能 | 説明 |
|------|------|
| 登録フォーム | 名前・メール・パスワードを入力して登録 |
| パスワード確認 | パスワードの一致確認（8文字以上） |
| Googleで登録 | Google OAuthで新規登録 |
| LINEで登録 | LINE OAuthで新規登録 |
| OAuth連携登録 | ソーシャルログイン後の追加情報入力 |

### 4. パスワードリセット (`/password-reset`)

| 機能 | 説明 |
|------|------|
| リセットメール送信 | メールアドレスを入力してリセットリンクを送信 |
| 送信完了画面 | メール送信後の確認画面 |

### 5. パスワード再設定 (`/password-reset/confirm`)

| 機能 | 説明 |
|------|------|
| 新パスワード設定 | トークン認証後に新しいパスワードを設定 |
| バリデーション | パスワード一致・8文字以上の確認 |
| 期限切れ対応 | 無効なトークンの場合のエラー表示 |

---

## ユーザーページ（要認証）

### 6. ダッシュボード (`/dashboard`)

| 機能 | 説明 |
|------|------|
| 残り予算表示 | 今月の残り予算と1日あたりの使用可能額 |
| 収支サマリー | 今月の収入・支出・残高を表示 |
| カップル収支 | ペアリング済みの場合、カップル全体の収支も表示 |
| クイック入力 | ワンタップで支出を登録（食費・日用品・交通費・交際費・娯楽） |
| 支出円グラフ | 今月のカテゴリー別支出割合 |
| 月次推移グラフ | 過去6ヶ月の収入・支出推移（棒グラフ） |
| 予算進捗 | 設定した予算の使用状況（上位5件） |
| 最近の取引 | 直近5件のトランザクション一覧 |
| カップル登録促進 | 未ペアリング時の登録促進バナー |

### 7. 家計簿一覧 (`/transactions`)

| 機能 | 説明 |
|------|------|
| トランザクション一覧 | すべての収入・支出を一覧表示 |
| 表示範囲フィルター | 個人/カップルで切り替え |
| 種類フィルター | すべて/収入/支出で絞り込み |
| カテゴリーフィルター | カテゴリーで絞り込み |
| 削除機能 | 各トランザクションを削除 |
| 新規登録ボタン | トランザクション登録ページへ |

### 8. トランザクション登録 (`/transactions/new`)

| 機能 | 説明 |
|------|------|
| 種類選択 | 収入/支出をボタンで選択 |
| カテゴリー選択 | 種類に応じたカテゴリーをドロップダウンで選択 |
| 金額入力 | 金額を数値で入力 |
| 日付選択 | 日付ピッカーで日付を選択（デフォルト:今日） |
| 説明入力 | 任意でメモを追加 |
| 割り勘機能 | カップル登録時、支出を半額ずつに分割 |

**カテゴリー一覧:**

| 収入カテゴリー | 支出カテゴリー |
|---------------|---------------|
| 給与 | 食費 |
| 賞与 | 日用品 |
| 副業 | 住居費 |
| 投資 | 水道光熱費 |
| その他収入 | 通信費 |
| | 交通費 |
| | 医療費 |
| | 保険料 |
| | 教育費 |
| | 娯楽費 |
| | 交際費 |
| | 衣服費 |
| | 美容費 |
| | 趣味 |
| | ペット |
| | その他支出 |

### 9. カップル管理 (`/couple`)

| 機能 | 説明 |
|------|------|
| **未ペアリング時** | |
| 招待コード発行 | 24時間有効な招待コードを生成 |
| コードコピー | ワンクリックでコードをコピー |
| 有効期限表示 | 招待コードの有効期限を表示 |
| 招待コードで参加 | パートナーのコードを入力してペアリング |
| **ペアリング済み時** | |
| カップル情報表示 | 自分とパートナーの名前・メールを表示 |
| 登録日表示 | カップル登録日を表示 |
| 有効機能一覧 | 利用可能な機能を表示 |
| カップル解除 | カップル登録を解除（確認ダイアログあり） |

### 10. 予算管理 (`/budgets`)

| 機能 | 説明 |
|------|------|
| 予算作成 | 新しい予算を設定 |
| 予算タイプ | カテゴリー別予算/月次総予算 |
| 対象期間 | 年・月を指定 |
| 表示範囲切替 | 個人/カップルで切り替え |
| 予算一覧 | 今月の予算と過去の予算を表示 |
| 進捗バー | 使用率を色分け表示（緑→黄→橙→赤） |
| 予算超過警告 | 100%超過時に警告表示 |
| 予算削除 | 不要な予算を削除 |

### 11. 分析 (`/analytics`)

| 機能 | 説明 |
|------|------|
| 期間指定 | 開始日・終了日で分析期間を指定 |
| 表示範囲切替 | 個人/カップルで切り替え |
| 収入内訳（円グラフ） | カテゴリー別の収入割合 |
| 支出内訳（円グラフ） | カテゴリー別の支出割合 |
| トップ支出カテゴリー | 支出が多いカテゴリーを棒グラフで表示 |
| 収入詳細テーブル | カテゴリー別の収入金額・割合・件数 |
| 支出詳細テーブル | カテゴリー別の支出金額・割合・件数 |

### 12. レポート (`/reports`)

| 機能 | 説明 |
|------|------|
| 期間選択 | 月次/年次を選択 |
| 年月指定 | レポート対象の年・月を選択 |
| 表示範囲切替 | 個人/カップルで切り替え |
| サマリーカード | 総収入・総支出・残高・取引数 |
| 支出カテゴリー（円グラフ） | カテゴリー別の支出内訳 |
| 推移グラフ（折れ線） | 収入・支出の推移 |
| 予算ステータス | 各予算の使用状況 |
| CSV出力 | レポートをCSVファイルでダウンロード |

### 13. 繰り返し取引 (`/recurring`)

| 機能 | 説明 |
|------|------|
| 繰り返し取引作成 | 定期的な収入・支出を登録 |
| 頻度設定 | 毎月/毎週/毎年から選択 |
| 日付指定 | 毎月何日/毎週何曜日を指定 |
| 一覧表示 | 登録済みの繰り返し取引を表示 |
| 次回予定日 | 次に取引が作成される日付 |
| 今すぐ実行 | 手動で即座に取引を作成 |
| 一時停止/再開 | 繰り返し取引の有効/無効を切替 |
| 編集 | 金額・頻度などを変更 |
| 削除 | 繰り返し取引を削除 |

---

## 管理者ページ（管理者のみ）

### 14. 管理者ダッシュボード (`/admin`)

| 機能 | 説明 |
|------|------|
| 統計カード | 総ユーザー数・総カップル数・総トランザクション数 |
| 今月の新規ユーザー | 当月に登録したユーザー数 |
| 今月のトランザクション | 当月に登録されたトランザクション数 |
| 収支サマリー | 全ユーザーの総収入・総支出・純残高 |
| クイックリンク | ユーザー管理・カップル一覧・トランザクション一覧へ |

### 15. ユーザー管理 (`/admin/users`)

| 機能 | 説明 |
|------|------|
| ユーザー検索 | メール・名前で検索 |
| ユーザー一覧 | 全ユーザーをテーブル表示 |
| 認証方法表示 | Google/LINE/Email のバッジ表示 |
| 管理者権限切替 | 管理者フラグのオン/オフ |
| メール認証状態切替 | メール認証済みフラグのオン/オフ |
| ユーザー削除 | ユーザーを削除（確認ダイアログあり） |
| ページネーション | 20件ごとにページ分割 |

### 16. カップル一覧 (`/admin/couples`)

| 機能 | 説明 |
|------|------|
| カップル一覧 | 全カップルをテーブル表示 |
| ユーザー情報 | 両ユーザーの名前・メールを表示 |
| 登録日表示 | カップル登録日を表示 |
| ページネーション | 20件ごとにページ分割 |

### 17. トランザクション一覧 (`/admin/transactions`)

| 機能 | 説明 |
|------|------|
| 種類フィルター | すべて/収入/支出で絞り込み |
| トランザクション一覧 | 全トランザクションをテーブル表示 |
| ユーザー情報 | 登録したユーザーの名前・メールを表示 |
| ページネーション | 20件ごとにページ分割 |

---

## 共通機能

| 機能 | 説明 |
|------|------|
| ダークモード | 全ページでライト/ダーク/システムモードに対応 |
| レスポンシブデザイン | PC・タブレット・スマートフォンに対応 |
| モバイルナビゲーション | スマートフォン用の下部ナビゲーションバー |
| 日本語ローカライズ | 日付・通貨の日本語フォーマット |
| エラーハンドリング | 各操作でのエラー表示 |
| ローディング状態 | データ取得中のローディング表示 |

---

## ページ数統計

| カテゴリ | ページ数 |
|---------|---------|
| 公開ページ | 5 |
| ユーザーページ | 8 |
| 管理者ページ | 4 |
| **合計** | **17** |
